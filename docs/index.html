<!DOCTYPE html>
<html>
<head>
  <title>Login Facebook Multi Akun (Cookies)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: sans-serif; padding: 20px; background: #f3f3f3; }
    h2 { margin-bottom: 10px; }
    textarea { width: 100%; height: 80px; margin-bottom: 10px; }
    button, select { padding: 8px 12px; margin: 5px 0; width: 100%; }
    .akun-list { margin-top: 20px; }
  </style>
</head>
<body>
  <h2>üß† Login Facebook via Cookies</h2>
  <textarea id="cookieInput" placeholder="Paste cookies di sini..."></textarea>
  <button onclick="loginDenganCookies()">‚úÖ Login dengan Cookies</button>
  <button onclick="simpanAkun()">üíæ Simpan Akun (setelah login)</button>

  <div class="akun-list">
    <h2>üìã Daftar Akun Tersimpan</h2>
    <select id="akunSelect" onchange="pakaiAkun(this.value)">
      <option value="">-- Pilih Akun --</option>
    </select>
  </div>

  <script>
    function loginDenganCookies() {
      const raw = document.getElementById("cookieInput").value;
      if (!raw) return alert("Masukkan cookies dulu!");
      raw.split(";").forEach(pair => {
        let [k, v] = pair.split("=");
        if (k && v) {
          document.cookie = `${k.trim()}=${v.trim()};domain=.facebook.com;path=/`;
        }
      });
      localStorage.setItem("temp_cookie_raw", raw);
      alert("‚úÖ Cookies disimpan. Reload untuk login...");
      location.href = "https://m.facebook.com/home.php?ref=bookscript";
  ";
    }

    function simpanAkun() {
      let name = prompt("Masukkan nama akun (atau biarkan kosong untuk coba ambil otomatis)");
      if (!name) {
        name = document.querySelector('[role="banner"] [dir="auto"] span')?.textContent ||
               document.title || prompt("Nama tidak ditemukan, masukkan manual:");
      }
      if (!name) return alert("‚ùå Gagal ambil nama akun.");

      let cookies = localStorage.getItem("temp_cookie_raw");
      if (!cookies) return alert("‚ùå Tidak ada cookies tersimpan dari login sebelumnya.");

      let akunList = JSON.parse(localStorage.getItem("akun_list") || "[]");
      akunList.push({ name, cookies });
      localStorage.setItem("akun_list", JSON.stringify(akunList));
      alert("‚úÖ Akun '" + name + "' berhasil disimpan!");
      loadDaftarAkun();
    }

    function loadDaftarAkun() {
      const akunList = JSON.parse(localStorage.getItem("akun_list") || "[]");
      const select = document.getElementById("akunSelect");
      select.innerHTML = '<option value="">-- Pilih Akun --</option>';
      akunList.forEach((a, i) => {
        const opt = document.createElement("option");
        opt.value = i;
        opt.textContent = a.name;
        select.appendChild(opt);
      });
    }

    function pakaiAkun(index) {
      const akunList = JSON.parse(localStorage.getItem("akun_list") || "[]");
      const akun = akunList[parseInt(index)];
      if (!akun) return;
      akun.cookies.split(";").forEach(pair => {
        let [k, v] = pair.split("=");
        if (k && v) {
          document.cookie = `${k.trim()}=${v.trim()};domain=.facebook.com;path=/`;
        }
      });
      alert("‚úÖ Login sebagai " + akun.name);
      location.href = "https://m.facebook.com";
    }

    // Load daftar akun saat halaman dibuka
    loadDaftarAkun();
  </script>
</body>
  </html>
  
